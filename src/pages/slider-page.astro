---
import PlotFigure from "../components/PlotFigure.astro";
import Layout from "../layouts/Layout.astro";
import * as Plot from "@observablehq/plot";
import penguins from "../assets/penguins.json";

const penguinsAdelie = penguins.filter(({species}) => species === "Adelie");
const penguinsGentoo = penguins.filter(({species}) => species === "Gentoo");
const penguinsChinstrap = penguins.filter(({species}) => species === "Chinstrap");
---

<Layout>
  <h1 class="text-2xl">Toutes les espèces avec slider</h1>
  
  <nav class="mb-4">
    <ul class="flex gap-4">
      <li><a href="#adelie" class="text-blue-600">Adelie</a></li>
      <li><a href="#gentoo" class="text-blue-600">Gentoo</a></li>
      <li><a href="#chinstrap" class="text-blue-600">Chinstrap</a></li>
      <li><a href="/" class="text-gray-600">← Retour</a></li>
    </ul>
  </nav>
  
  <div class="slider-container">
    <div class="slider">
      <section id="adelie" class="slide">
        <h2 class="text-xl mb-4">Adelie</h2>
        <PlotFigure
          options={{
            marks: [
              Plot.dot(penguinsAdelie, {
                x: "culmen_length_mm",
                y: "culmen_depth_mm",
                stroke: "species",
              }),
            ],
            title: "Penguins Adelie - Culmen Length vs Depth"
          }}
        />
      </section>
      
      <section id="gentoo" class="slide">
        <h2 class="text-xl mb-4">Gentoo</h2>
        <PlotFigure
          options={{
            marks: [
              Plot.dot(penguinsGentoo, {
                x: "culmen_length_mm",
                y: "culmen_depth_mm",
                stroke: "species",
              }),
            ],
            title: "Penguins Gentoo - Culmen Length vs Depth"
          }}
        />
      </section>
      
      <section id="chinstrap" class="slide">
        <h2 class="text-xl mb-4">Chinstrap</h2>
        <PlotFigure
          options={{
            marks: [
              Plot.dot(penguinsChinstrap, {
                x: "culmen_length_mm",
                y: "culmen_depth_mm",
                stroke: "species",
              }),
            ],
            title: "Penguins Chinstrap - Culmen Length vs Depth"
          }}
        />
      </section>
    </div>
  </div>
</Layout>

<style>
  .slider-container {
    overflow-x: auto;
    scroll-behavior: smooth;
  }
  
  .slider {
    display: flex;
    width: 300%;
  }
  
  .slide {
    width: 33.333%;
    min-height: 500px;
    padding: 20px;
    box-sizing: border-box;
  }
  
  .slide:target {
    scroll-margin-top: 0;
  }
</style>
